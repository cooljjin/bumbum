# í”„ë¡œì íŠ¸ ì•„í‚¤í…ì²˜ ë¬¸ì„œ

## ê°œìš”

ì´ ë¬¸ì„œëŠ” ê°€êµ¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ UI ë¦¬íŒ©í† ë§ í”„ë¡œì íŠ¸ì˜ ì „ì²´ ì•„í‚¤í…ì²˜ì™€ ì„¤ê³„ ì›ì¹™ì„ ì„¤ëª…í•©ë‹ˆë‹¤.

## ğŸ—ï¸ ì „ì²´ ì•„í‚¤í…ì²˜

### ì‹œìŠ¤í…œ ê°œìš”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ë ˆì´ì–´                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  React Components (TSX)                                    â”‚
â”‚  â”œâ”€â”€ Real3DRoom.tsx                                        â”‚
â”‚  â”œâ”€â”€ DraggableFurniture.tsx                                â”‚
â”‚  â”œâ”€â”€ FurnitureCatalog.tsx                                  â”‚
â”‚  â””â”€â”€ ...                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    ìƒíƒœ ê´€ë¦¬ ë ˆì´ì–´                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Zustand Store                                             â”‚
â”‚  â”œâ”€â”€ editorStore.ts                                        â”‚
â”‚  â””â”€â”€ ...                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë ˆì´ì–´                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Custom Hooks & Utils                                      â”‚
â”‚  â”œâ”€â”€ usePerformanceOptimization.ts                         â”‚
â”‚  â”œâ”€â”€ useKeyboardShortcuts.ts                               â”‚
â”‚  â”œâ”€â”€ modelLoader.ts                                        â”‚
â”‚  â””â”€â”€ ...                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    3D ë Œë”ë§ ë ˆì´ì–´                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Three.js + React Three Fiber                              â”‚
â”‚  â”œâ”€â”€ Scene Management                                      â”‚
â”‚  â”œâ”€â”€ Camera Controls                                       â”‚
â”‚  â”œâ”€â”€ Lighting System                                       â”‚
â”‚  â””â”€â”€ Model Loading                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    ë°ì´í„° ë ˆì´ì–´                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Static Data & Local Storage                               â”‚
â”‚  â”œâ”€â”€ furnitureCatalog.ts                                   â”‚
â”‚  â”œâ”€â”€ roomTemplates.ts                                      â”‚
â”‚  â””â”€â”€ storageManager.ts                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ ì„¤ê³„ ì›ì¹™

### 1. ì»´í¬ë„ŒíŠ¸ ì„¤ê³„ ì›ì¹™

#### ë‹¨ì¼ ì±…ì„ ì›ì¹™ (Single Responsibility Principle)
- ê° ì»´í¬ë„ŒíŠ¸ëŠ” í•˜ë‚˜ì˜ ëª…í™•í•œ ì±…ì„ë§Œ ê°€ì§
- `Real3DRoom`: 3D ì”¬ ë Œë”ë§ë§Œ ë‹´ë‹¹
- `DraggableFurniture`: ê°œë³„ ê°€êµ¬ ì¸í„°ë™ì…˜ë§Œ ë‹´ë‹¹
- `FurnitureCatalog`: ê°€êµ¬ ëª©ë¡ í‘œì‹œë§Œ ë‹´ë‹¹

#### ê´€ì‹¬ì‚¬ ë¶„ë¦¬ (Separation of Concerns)
- UI ë¡œì§ê³¼ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë¶„ë¦¬
- ìƒíƒœ ê´€ë¦¬ì™€ ë Œë”ë§ ë¡œì§ ë¶„ë¦¬
- 3D ë Œë”ë§ê³¼ ì´ë²¤íŠ¸ ì²˜ë¦¬ ë¶„ë¦¬

#### ì»´í¬ì§€ì…˜ ìš°ì„  (Composition over Inheritance)
- ìƒì†ë³´ë‹¤ëŠ” ì»´í¬ì§€ì…˜ ì‚¬ìš©
- ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì‘ì€ ì»´í¬ë„ŒíŠ¸ ì¡°í•©
- Propsë¥¼ í†µí•œ ìœ ì—°í•œ êµ¬ì„±

### 2. ìƒíƒœ ê´€ë¦¬ ì„¤ê³„

#### ì¤‘ì•™ ì§‘ì¤‘ì‹ ìƒíƒœ ê´€ë¦¬
```typescript
// src/store/editorStore.ts
interface EditorState {
  // ê°€êµ¬ ì•„ì´í…œ ê´€ë¦¬
  items: PlacedItem[];
  selectedItemId: string | null;
  
  // í¸ì§‘ ëª¨ë“œ ê´€ë¦¬
  isEditMode: boolean;
  
  // ê·¸ë¦¬ë“œ ì„¤ì •
  grid: GridSettings;
  
  // ì¹´ë©”ë¼ ì„¤ì •
  camera: CameraSettings;
  
  // ì„±ëŠ¥ ì„¤ì •
  performance: PerformanceSettings;
}
```

#### ìƒíƒœ ì—…ë°ì´íŠ¸ íŒ¨í„´
```typescript
// ë¶ˆë³€ì„± ìœ ì§€
updateItem: (id: string, updates: Partial<PlacedItem>) => 
  set((state) => ({
    items: state.items.map(item => 
      item.id === id ? { ...item, ...updates } : item
    )
  })),

// ë°°ì¹˜ ì—…ë°ì´íŠ¸
batchUpdate: (updates: Array<{ id: string; updates: Partial<PlacedItem> }>) =>
  set((state) => ({
    items: state.items.map(item => {
      const update = updates.find(u => u.id === item.id);
      return update ? { ...item, ...update.updates } : item;
    })
  }))
```

### 3. ì„±ëŠ¥ ìµœì í™” ì„¤ê³„

#### ë Œë”ë§ ìµœì í™”
```typescript
// React.memoë¥¼ ì‚¬ìš©í•œ ì»´í¬ë„ŒíŠ¸ ë©”ëª¨ì´ì œì´ì…˜
export const DraggableFurniture = React.memo<DraggableFurnitureProps>(
  ({ item, isSelected, isEditMode, onSelect, onUpdate }) => {
    // ì»´í¬ë„ŒíŠ¸ ë¡œì§
  },
  (prevProps, nextProps) => {
    // ì»¤ìŠ¤í…€ ë¹„êµ í•¨ìˆ˜
    return (
      prevProps.item.id === nextProps.item.id &&
      prevProps.isSelected === nextProps.isSelected &&
      prevProps.isEditMode === nextProps.isEditMode
    );
  }
);
```

#### ë©”ëª¨ë¦¬ ê´€ë¦¬
```typescript
// 3D ëª¨ë¸ ë¦¬ì†ŒìŠ¤ ì •ë¦¬
useEffect(() => {
  return () => {
    if (model) {
      disposeModel(model);
    }
  };
}, [model]);

// ì¬ê·€ì  dispose í•¨ìˆ˜
const disposeModel = (model: Group) => {
  model.traverse((obj: any) => {
    if (obj.geometry) obj.geometry.dispose();
    if (obj.material) {
      if (Array.isArray(obj.material)) {
        obj.material.forEach((material: Material) => material.dispose());
      } else {
        obj.material.dispose();
      }
    }
  });
};
```

## ğŸ”§ ê¸°ìˆ  ìŠ¤íƒ ì•„í‚¤í…ì²˜

### 1. í”„ë¡ íŠ¸ì—”ë“œ í”„ë ˆì„ì›Œí¬

#### Next.js 15 (App Router)
- **íŒŒì¼ ê¸°ë°˜ ë¼ìš°íŒ…**: `app/` ë””ë ‰í† ë¦¬ êµ¬ì¡°
- **ì„œë²„ ì»´í¬ë„ŒíŠ¸**: ì´ˆê¸° ë¡œë”© ì„±ëŠ¥ í–¥ìƒ
- **ì •ì  ìƒì„±**: SEO ìµœì í™”
- **API ë¼ìš°íŠ¸**: ë°±ì—”ë“œ API êµ¬í˜„

#### React 18
- **Concurrent Features**: ë™ì‹œì„± ê¸°ëŠ¥
- **Automatic Batching**: ìë™ ë°°ì¹­
- **Suspense**: ë¡œë”© ìƒíƒœ ê´€ë¦¬
- **Strict Mode**: ê°œë°œ ì‹œ ì—„ê²©í•œ ê²€ì‚¬

### 2. 3D ê·¸ë˜í”½ìŠ¤

#### Three.js
- **WebGL ê¸°ë°˜**: í•˜ë“œì›¨ì–´ ê°€ì† 3D ë Œë”ë§
- **ì”¬ ê·¸ë˜í”„**: ê³„ì¸µì  3D ê°ì²´ ê´€ë¦¬
- **ë¨¸í‹°ë¦¬ì–¼ ì‹œìŠ¤í…œ**: ë‹¤ì–‘í•œ ë Œë”ë§ íš¨ê³¼
- **ì• ë‹ˆë©”ì´ì…˜**: í‚¤í”„ë ˆì„ ë° ëª¨í•‘ ì• ë‹ˆë©”ì´ì…˜

#### React Three Fiber
- **React í†µí•©**: Three.jsë¥¼ React ì»´í¬ë„ŒíŠ¸ë¡œ ì‚¬ìš©
- **ìë™ ë¦¬ì†ŒìŠ¤ ê´€ë¦¬**: ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€
- **ì„±ëŠ¥ ìµœì í™”**: ìë™ ë Œë”ë§ ìµœì í™”
- **TypeScript ì§€ì›**: íƒ€ì… ì•ˆì •ì„±

### 3. ìƒíƒœ ê´€ë¦¬

#### Zustand
- **ê²½ëŸ‰í™”**: ë²ˆë“¤ í¬ê¸° ìµœì†Œí™”
- **TypeScript ì§€ì›**: ì™„ë²½í•œ íƒ€ì… ì•ˆì •ì„±
- **React DevTools**: ê°œë°œì ë„êµ¬ ì§€ì›
- **ë¯¸ë“¤ì›¨ì–´**: í™•ì¥ ê°€ëŠ¥í•œ ì•„í‚¤í…ì²˜

### 4. ìŠ¤íƒ€ì¼ë§

#### Tailwind CSS
- **ìœ í‹¸ë¦¬í‹° í¼ìŠ¤íŠ¸**: ë¹ ë¥¸ ê°œë°œ
- **ë°˜ì‘í˜• ë””ìì¸**: ëª¨ë°”ì¼ ìš°ì„  ì ‘ê·¼ë²•
- **ì»¤ìŠ¤í„°ë§ˆì´ì§•**: ë””ìì¸ ì‹œìŠ¤í…œ êµ¬ì¶•
- **JIT ì»´íŒŒì¼ëŸ¬**: ìµœì í™”ëœ CSS ìƒì„±

## ğŸ“ íŒŒì¼ êµ¬ì¡° ì•„í‚¤í…ì²˜

### 1. ë””ë ‰í† ë¦¬ êµ¬ì¡° ì„¤ê³„ ì›ì¹™

#### ê¸°ëŠ¥ë³„ ê·¸ë£¹í™”
```
src/
â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ (routes)/          # ë¼ìš°íŠ¸ ê·¸ë£¹
â”‚   â”œâ”€â”€ api/               # API ì—”ë“œí¬ì¸íŠ¸
â”‚   â””â”€â”€ globals.css        # ì „ì—­ ìŠ¤íƒ€ì¼
â”œâ”€â”€ components/             # React ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ ui/                # ê¸°ë³¸ UI ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ furniture/         # ê°€êµ¬ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ room/              # ë£¸ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ layout/            # ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ hooks/                  # ì»¤ìŠ¤í…€ í›…
â”‚   â”œâ”€â”€ performance/        # ì„±ëŠ¥ ê´€ë ¨ í›…
â”‚   â”œâ”€â”€ interaction/        # ì¸í„°ë™ì…˜ ê´€ë ¨ í›…
â”‚   â””â”€â”€ data/              # ë°ì´í„° ê´€ë ¨ í›…
â”œâ”€â”€ store/                  # ìƒíƒœ ê´€ë¦¬
â”‚   â”œâ”€â”€ slices/             # ìƒíƒœ ìŠ¬ë¼ì´ìŠ¤
â”‚   â””â”€â”€ middleware/         # ë¯¸ë“¤ì›¨ì–´
â”œâ”€â”€ utils/                  # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚   â”œâ”€â”€ three/              # Three.js ê´€ë ¨
â”‚   â”œâ”€â”€ performance/        # ì„±ëŠ¥ ê´€ë ¨
â”‚   â””â”€â”€ validation/         # ê²€ì¦ ê´€ë ¨
â”œâ”€â”€ types/                  # TypeScript íƒ€ì…
â”‚   â”œâ”€â”€ api/                # API ê´€ë ¨ íƒ€ì…
â”‚   â”œâ”€â”€ components/         # ì»´í¬ë„ŒíŠ¸ ê´€ë ¨ íƒ€ì…
â”‚   â””â”€â”€ store/              # ìƒíƒœ ê´€ë ¨ íƒ€ì…
â””â”€â”€ data/                   # ì •ì  ë°ì´í„°
    â”œâ”€â”€ furniture/          # ê°€êµ¬ ë°ì´í„°
    â”œâ”€â”€ templates/          # í…œí”Œë¦¿ ë°ì´í„°
    â””â”€â”€ config/             # ì„¤ì • ë°ì´í„°
```

### 2. ì»´í¬ë„ŒíŠ¸ êµ¬ì¡° ì„¤ê³„

#### ì»´í¬ë„ŒíŠ¸ ê³„ì¸µ êµ¬ì¡°
```
App
â”œâ”€â”€ Layout
â”‚   â”œâ”€â”€ Header
â”‚   â”œâ”€â”€ Navigation
â”‚   â””â”€â”€ Footer
â”œâ”€â”€ RoomEditor
â”‚   â”œâ”€â”€ EditorToolbar
â”‚   â”œâ”€â”€ EditorMain
â”‚   â”‚   â”œâ”€â”€ Real3DRoom
â”‚   â”‚   â”‚   â”œâ”€â”€ Scene
â”‚   â”‚   â”‚   â”œâ”€â”€ Camera
â”‚   â”‚   â”‚   â”œâ”€â”€ Lighting
â”‚   â”‚   â”‚   â””â”€â”€ DraggableFurniture[]
â”‚   â”‚   â””â”€â”€ SidePanel
â”‚   â”‚       â”œâ”€â”€ FurnitureCatalog
â”‚   â”‚       â””â”€â”€ PropertiesPanel
â”‚   â””â”€â”€ EditorBottomPanel
â”‚       â”œâ”€â”€ GridSystem
â”‚       â””â”€â”€ PerformanceMonitor
â””â”€â”€ ErrorBoundary
```

#### ì»´í¬ë„ŒíŠ¸ ê°„ í†µì‹ 
```typescript
// Propsë¥¼ í†µí•œ ìƒìœ„ â†’ í•˜ìœ„ í†µì‹ 
<Real3DRoom
  items={items}
  onItemUpdate={handleItemUpdate}
  onItemSelect={handleItemSelect}
/>

// ì½œë°±ì„ í†µí•œ í•˜ìœ„ â†’ ìƒìœ„ í†µì‹ 
const handleItemUpdate = (id: string, updates: Partial<PlacedItem>) => {
  // ìƒíƒœ ì—…ë°ì´íŠ¸ ë¡œì§
};

// Contextë¥¼ í†µí•œ ì „ì—­ ìƒíƒœ ê³µìœ 
const { items, updateItem } = useEditorStore();
```

## ğŸ”„ ë°ì´í„° í”Œë¡œìš° ì•„í‚¤í…ì²˜

### 1. ë‹¨ë°©í–¥ ë°ì´í„° í”Œë¡œìš°

```
User Action â†’ Event Handler â†’ State Update â†’ Re-render â†’ UI Update
     â†“              â†“            â†“           â†“         â†“
  Click Item â†’ onSelect() â†’ updateState() â†’ React â†’ New UI
```

### 2. ìƒíƒœ ì—…ë°ì´íŠ¸ í”Œë¡œìš°

```typescript
// 1. ì‚¬ìš©ì ì•¡ì…˜
const handleItemSelect = (id: string) => {
  // 2. ìƒíƒœ ì—…ë°ì´íŠ¸
  updateSelectedItem(id);
  
  // 3. ë¶€ìˆ˜ íš¨ê³¼ ì‹¤í–‰
  updateCameraPosition(id);
  updateGridSnap(id);
};

// 4. ì»´í¬ë„ŒíŠ¸ ë¦¬ë Œë”ë§
const selectedItem = useEditorStore(state => state.selectedItemId);
const isSelected = selectedItem === item.id;
```

### 3. ë¹„ë™ê¸° ë°ì´í„° í”Œë¡œìš°

```typescript
// 1. ë°ì´í„° ë¡œë”© ì‹œì‘
const [isLoading, setIsLoading] = useState(false);
const [data, setData] = useState(null);

// 2. ë¹„ë™ê¸° ì‘ì—… ì‹¤í–‰
useEffect(() => {
  const loadData = async () => {
    setIsLoading(true);
    try {
      const result = await fetchData();
      setData(result);
    } catch (error) {
      handleError(error);
    } finally {
      setIsLoading(false);
    }
  };
  
  loadData();
}, []);
```

## ğŸ¨ UI/UX ì•„í‚¤í…ì²˜

### 1. ë””ìì¸ ì‹œìŠ¤í…œ

#### ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬
```typescript
// ê¸°ë³¸ UI ì»´í¬ë„ŒíŠ¸
export const Button = ({ variant, size, children, ...props }) => {
  const baseClasses = "px-4 py-2 rounded font-medium transition-colors";
  const variantClasses = {
    primary: "bg-blue-600 text-white hover:bg-blue-700",
    secondary: "bg-gray-200 text-gray-800 hover:bg-gray-300",
    danger: "bg-red-600 text-white hover:bg-red-700"
  };
  const sizeClasses = {
    sm: "px-3 py-1 text-sm",
    md: "px-4 py-2",
    lg: "px-6 py-3 text-lg"
  };
  
  return (
    <button
      className={`${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]}`}
      {...props}
    >
      {children}
    </button>
  );
};
```

#### í…Œë§ˆ ì‹œìŠ¤í…œ
```typescript
// í…Œë§ˆ ì»¨í…ìŠ¤íŠ¸
const ThemeContext = createContext<Theme>(defaultTheme);

export const ThemeProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [theme, setTheme] = useState<Theme>(defaultTheme);
  
  const toggleTheme = () => {
    setTheme(prev => prev === 'light' ? 'dark' : 'light');
  };
  
  return (
    <ThemeContext.Provider value={{ ...theme, toggleTheme }}>
      {children}
    </ThemeContext.Provider>
  );
};
```

### 2. ë°˜ì‘í˜• ë””ìì¸

#### ë¸Œë ˆì´í¬í¬ì¸íŠ¸ ì‹œìŠ¤í…œ
```typescript
// Tailwind CSS ë¸Œë ˆì´í¬í¬ì¸íŠ¸
const breakpoints = {
  sm: '640px',   // ëª¨ë°”ì¼ ê°€ë¡œ
  md: '768px',   // íƒœë¸”ë¦¿
  lg: '1024px',  // ë°ìŠ¤í¬í†±
  xl: '1280px',  // ëŒ€í˜• ë°ìŠ¤í¬í†±
  '2xl': '1536px' // ì´ˆëŒ€í˜• ë°ìŠ¤í¬í†±
};

// ë°˜ì‘í˜• ì»´í¬ë„ŒíŠ¸
<div className="
  grid 
  grid-cols-1 
  md:grid-cols-2 
  lg:grid-cols-3 
  xl:grid-cols-4 
  gap-4
">
  {/* ê·¸ë¦¬ë“œ ì•„ì´í…œë“¤ */}
</div>
```

#### ëª¨ë°”ì¼ ìš°ì„  ì ‘ê·¼ë²•
```typescript
// ëª¨ë°”ì¼ ê¸°ë³¸ ìŠ¤íƒ€ì¼
const mobileStyles = "p-4 text-sm";

// íƒœë¸”ë¦¿ ì´ìƒì—ì„œ í™•ì¥
const tabletStyles = "md:p-6 md:text-base";

// ë°ìŠ¤í¬í†±ì—ì„œ ìµœëŒ€ í™•ì¥
const desktopStyles = "lg:p-8 lg:text-lg";
```

## ğŸš€ ì„±ëŠ¥ ì•„í‚¤í…ì²˜

### 1. ë Œë”ë§ ìµœì í™”

#### ê°€ìƒí™” (Virtualization)
```typescript
// ëŒ€ëŸ‰ ì•„ì´í…œ ì²˜ë¦¬
import { FixedSizeList as List } from 'react-window';

function VirtualizedFurnitureList({ items }) {
  const Row = ({ index, style }) => (
    <div style={style}>
      <FurnitureItem item={items[index]} />
    </div>
  );
  
  return (
    <List
      height={400}
      itemCount={items.length}
      itemSize={60}
      overscanCount={5}
    >
      {Row}
    </List>
  );
}
```

#### ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…
```typescript
// ë™ì  ì„í¬íŠ¸
const HeavyComponent = lazy(() => import('./HeavyComponent'));

// ë¼ìš°íŠ¸ ê¸°ë°˜ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…
const RoomEditor = lazy(() => import('./RoomEditor'));

// ì¡°ê±´ë¶€ ë¡œë”©
{showEditor && (
  <Suspense fallback={<LoadingSpinner />}>
    <RoomEditor />
  </Suspense>
)}
```

### 2. ë©”ëª¨ë¦¬ ìµœì í™”

#### 3D ëª¨ë¸ ê´€ë¦¬
```typescript
// ëª¨ë¸ ìºì‹± ì‹œìŠ¤í…œ
const modelCache = new Map<string, Group>();

const loadModel = async (path: string): Promise<Group> => {
  if (modelCache.has(path)) {
    return modelCache.get(path)!.clone();
  }
  
  const model = await createFurnitureModel(path);
  modelCache.set(path, model);
  return model.clone();
};

// ë©”ëª¨ë¦¬ ì •ë¦¬
const cleanupCache = () => {
  modelCache.forEach((model, path) => {
    disposeModel(model);
  });
  modelCache.clear();
};
```

#### ì´ë¯¸ì§€ ìµœì í™”
```typescript
// Lazy loading
const LazyImage = ({ src, alt, ...props }) => {
  const [isLoaded, setIsLoaded] = useState(false);
  const [isInView, setIsInView] = useState(false);
  
  const imgRef = useRef<HTMLImageElement>(null);
  
  useEffect(() => {
    const observer = new IntersectionObserver(
      ([entry]) => setIsInView(entry.isIntersecting),
      { rootMargin: '50px' }
    );
    
    if (imgRef.current) {
      observer.observe(imgRef.current);
    }
    
    return () => observer.disconnect();
  }, []);
  
  return (
    <img
      ref={imgRef}
      src={isInView ? src : ''}
      alt={alt}
      onLoad={() => setIsLoaded(true)}
      className={`transition-opacity ${isLoaded ? 'opacity-100' : 'opacity-0'}`}
      {...props}
    />
  );
};
```

## ğŸ”’ ë³´ì•ˆ ì•„í‚¤í…ì²˜

### 1. í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë³´ì•ˆ

#### ì…ë ¥ ê²€ì¦
```typescript
// íƒ€ì… ì•ˆì „ì„±
interface UserInput {
  name: string;
  email: string;
  age: number;
}

const validateUserInput = (input: unknown): UserInput => {
  if (typeof input !== 'object' || input === null) {
    throw new Error('Invalid input format');
  }
  
  const { name, email, age } = input as any;
  
  if (typeof name !== 'string' || name.length < 1) {
    throw new Error('Invalid name');
  }
  
  if (typeof email !== 'string' || !email.includes('@')) {
    throw new Error('Invalid email');
  }
  
  if (typeof age !== 'number' || age < 0 || age > 150) {
    throw new Error('Invalid age');
  }
  
  return { name, email, age };
};
```

#### XSS ë°©ì§€
```typescript
// ì•ˆì „í•œ HTML ë Œë”ë§
import DOMPurify from 'dompurify';

const SafeHTML: React.FC<{ html: string }> = ({ html }) => {
  const sanitizedHTML = DOMPurify.sanitize(html);
  
  return (
    <div 
      dangerouslySetInnerHTML={{ __html: sanitizedHTML }}
      className="safe-html"
    />
  );
};
```

### 2. ë°ì´í„° ë³´ì•ˆ

#### ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ë³´ì•ˆ
```typescript
// ë¯¼ê°í•œ ë°ì´í„° ì•”í˜¸í™”
const encryptData = (data: string, key: string): string => {
  // ê°„ë‹¨í•œ ì•”í˜¸í™” ì˜ˆì‹œ (ì‹¤ì œë¡œëŠ” ë” ê°•ë ¥í•œ ì•”í˜¸í™” ì‚¬ìš©)
  return btoa(data + key);
};

const decryptData = (encryptedData: string, key: string): string => {
  try {
    const decoded = atob(encryptedData);
    return decoded.replace(key, '');
  } catch {
    return '';
  }
};

// ì•ˆì „í•œ ì €ì¥
const secureStorage = {
  setItem: (key: string, value: string) => {
    const encrypted = encryptData(value, 'secret-key');
    localStorage.setItem(key, encrypted);
  },
  
  getItem: (key: string): string | null => {
    const encrypted = localStorage.getItem(key);
    if (!encrypted) return null;
    
    return decryptData(encrypted, 'secret-key');
  }
};
```

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì•„í‚¤í…ì²˜

### 1. í…ŒìŠ¤íŠ¸ í”¼ë¼ë¯¸ë“œ

```
        E2E Tests (End-to-End)
           /           \
          /             \
         /               \
    Integration Tests   UI Tests
         \               /
          \             /
           \           /
        Unit Tests   Component Tests
```

### 2. í…ŒìŠ¤íŠ¸ ì „ëµ

#### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
```typescript
// ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ í…ŒìŠ¤íŠ¸
describe('modelLoader', () => {
  it('should create fallback model when loading fails', () => {
    const fallbackModel = createFallbackModel();
    
    expect(fallbackModel).toBeDefined();
    expect(fallbackModel.type).toBe('Group');
    expect(fallbackModel.children.length).toBeGreaterThan(0);
  });
  
  it('should handle invalid model paths gracefully', async () => {
    await expect(createFurnitureModel('invalid/path.glb'))
      .rejects
      .toThrow('Failed to load model');
  });
});
```

#### ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸
```typescript
// ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ í…ŒìŠ¤íŠ¸
describe('DraggableFurniture', () => {
  it('renders furniture item with correct properties', () => {
    const mockItem = createMockFurnitureItem();
    
    render(
      <DraggableFurniture
        item={mockItem}
        isSelected={false}
        isEditMode={true}
        onSelect={jest.fn()}
        onUpdate={jest.fn()}
      />
    );
    
    expect(screen.getByText(mockItem.name)).toBeInTheDocument();
    expect(screen.getByTestId('furniture-item')).toHaveAttribute(
      'data-selected', 
      'false'
    );
  });
});
```

#### í†µí•© í…ŒìŠ¤íŠ¸
```typescript
// ì‚¬ìš©ì ì›Œí¬í”Œë¡œìš° í…ŒìŠ¤íŠ¸
describe('Room Editor Workflow', () => {
  it('allows user to add furniture to room', async () => {
    render(<RoomEditor />);
    
    // ê°€êµ¬ ì¹´íƒˆë¡œê·¸ ì—´ê¸°
    const catalogButton = screen.getByText('Add Furniture');
    fireEvent.click(catalogButton);
    
    // ê°€êµ¬ ì„ íƒ
    const furnitureItem = screen.getByText('Modern Chair');
    fireEvent.click(furnitureItem);
    
    // 3D ë£¸ì— ê°€êµ¬ ì¶”ê°€ í™•ì¸
    await waitFor(() => {
      expect(screen.getByText('Modern Chair')).toBeInTheDocument();
    });
    
    // ê°€êµ¬ ì†ì„± í¸ì§‘
    const editButton = screen.getByText('Edit');
    fireEvent.click(editButton);
    
    // ìœ„ì¹˜ ë³€ê²½
    const positionInput = screen.getByLabelText('X Position');
    fireEvent.change(positionInput, { target: { value: '5' } });
    
    // ë³€ê²½ì‚¬í•­ ì €ì¥ í™•ì¸
    expect(positionInput).toHaveValue('5');
  });
});
```

## ğŸ“Š ëª¨ë‹ˆí„°ë§ ì•„í‚¤í…ì²˜

### 1. ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§

#### í”„ë¡ íŠ¸ì—”ë“œ ë©”íŠ¸ë¦­
```typescript
// Core Web Vitals ëª¨ë‹ˆí„°ë§
const monitorCoreWebVitals = () => {
  // LCP (Largest Contentful Paint)
  new PerformanceObserver((list) => {
    for (const entry of list.getEntries()) {
      console.log('LCP:', entry.startTime);
      // ë¶„ì„ ì„œë¹„ìŠ¤ì— ì „ì†¡
    }
  }).observe({ entryTypes: ['largest-contentful-paint'] });
  
  // FID (First Input Delay)
  new PerformanceObserver((list) => {
    for (const entry of list.getEntries()) {
      console.log('FID:', entry.processingStart - entry.startTime);
      // ë¶„ì„ ì„œë¹„ìŠ¤ì— ì „ì†¡
    }
  }).observe({ entryTypes: ['first-input'] });
  
  // CLS (Cumulative Layout Shift)
  new PerformanceObserver((list) => {
    let cls = 0;
    for (const entry of list.getEntries()) {
      if (!entry.hadRecentInput) {
        cls += entry.value;
      }
    }
    console.log('CLS:', cls);
    // ë¶„ì„ ì„œë¹„ìŠ¤ì— ì „ì†¡
  }).observe({ entryTypes: ['layout-shift'] });
};
```

#### 3D ë Œë”ë§ ì„±ëŠ¥
```typescript
// FPS ëª¨ë‹ˆí„°ë§
const useFPSMonitor = () => {
  const [fps, setFps] = useState(0);
  const frameCount = useRef(0);
  const lastTime = useRef(performance.now());
  
  useEffect(() => {
    const countFPS = () => {
      frameCount.current++;
      const currentTime = performance.now();
      
      if (currentTime - lastTime.current >= 1000) {
        setFps(Math.round((frameCount.current * 1000) / (currentTime - lastTime.current)));
        frameCount.current = 0;
        lastTime.current = currentTime;
      }
      
      requestAnimationFrame(countFPS);
    };
    
    countFPS();
  }, []);
  
  return fps;
};
```

### 2. ì—ëŸ¬ ëª¨ë‹ˆí„°ë§

#### ì—ëŸ¬ ë°”ìš´ë”ë¦¬
```typescript
class ErrorBoundary extends React.Component<Props, State> {
  constructor(props: Props) {
    super(props);
    this.state = { hasError: false, error: null, errorInfo: null };
  }
  
  static getDerivedStateFromError(error: Error): State {
    return { hasError: true, error, errorInfo: null };
  }
  
  componentDidCatch(error: Error, errorInfo: ErrorInfo) {
    // ì—ëŸ¬ ë¡œê¹…
    console.error('Error caught by boundary:', error, errorInfo);
    
    // ì—ëŸ¬ ë¶„ì„ ì„œë¹„ìŠ¤ì— ì „ì†¡
    logError({
      error: error.message,
      stack: error.stack,
      componentStack: errorInfo.componentStack,
      timestamp: new Date().toISOString(),
      userAgent: navigator.userAgent,
      url: window.location.href
    });
  }
  
  render() {
    if (this.state.hasError) {
      return (
        <ErrorFallback
          error={this.state.error}
          errorInfo={this.state.errorInfo}
          onReset={() => this.setState({ hasError: false })}
        />
      );
    }
    
    return this.props.children;
  }
}
```

## ğŸ”„ ë°°í¬ ì•„í‚¤í…ì²˜

### 1. CI/CD íŒŒì´í”„ë¼ì¸

#### GitHub Actions ì›Œí¬í”Œë¡œìš°
```yaml
# .github/workflows/deploy.yml
name: Deploy to Production

on:
  push:
    branches: [main]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: '18'
          cache: 'npm'
      
      - run: npm ci
      - run: npm run lint
      - run: npm run test
      - run: npm run build

  deploy:
    needs: test
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: '18'
          cache: 'npm'
      
      - run: npm ci
      - run: npm run build
      
      # ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
      - run: npm run deploy
```

### 2. í™˜ê²½ë³„ ì„¤ì •

#### í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬
```typescript
// í™˜ê²½ë³„ ì„¤ì •
const config = {
  development: {
    apiUrl: 'http://localhost:3001',
    enableDebug: true,
    logLevel: 'debug'
  },
  staging: {
    apiUrl: 'https://staging-api.yourdomain.com',
    enableDebug: true,
    logLevel: 'info'
  },
  production: {
    apiUrl: 'https://api.yourdomain.com',
    enableDebug: false,
    logLevel: 'error'
  }
};

const currentConfig = config[process.env.NODE_ENV as keyof typeof config] || config.development;
```

## ğŸ”® í–¥í›„ ì•„í‚¤í…ì²˜ ê³„íš

### 1. ë‹¨ê¸° ê³„íš (1-3ê°œì›”)

#### ë§ˆì´í¬ë¡œí”„ë¡ íŠ¸ì—”ë“œ ë„ì…
- ëª¨ë“ˆí˜• ì»´í¬ë„ŒíŠ¸ ì‹œìŠ¤í…œ
- ë…ë¦½ì ì¸ ë°°í¬ íŒŒì´í”„ë¼ì¸
- íŒ€ë³„ ë…ë¦½ ê°œë°œ í™˜ê²½

#### ìƒíƒœ ê´€ë¦¬ ê°œì„ 
- Redux Toolkit ë„ì… ê²€í† 
- ìƒíƒœ ì •ê·œí™” ë° ìµœì í™”
- ì‹¤ì‹œê°„ ìƒíƒœ ë™ê¸°í™”

### 2. ì¤‘ê¸° ê³„íš (3-6ê°œì›”)

#### ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ ê°•í™”
- Next.js SSR ìµœì í™”
- ì •ì  ìƒì„± ì „ëµ ê°œì„ 
- ìºì‹± ì „ëµ ìˆ˜ë¦½

#### ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ê°•í™”
- APM ë„êµ¬ ë„ì…
- ì‚¬ìš©ì í–‰ë™ ë¶„ì„
- ì„±ëŠ¥ ì˜ˆì¸¡ ëª¨ë¸

### 3. ì¥ê¸° ê³„íš (6ê°œì›” ì´ìƒ)

#### ì•„í‚¤í…ì²˜ í˜„ëŒ€í™”
- WebAssembly ë„ì… ê²€í† 
- WebGPU í™œìš©
- ì‹¤ì‹œê°„ í˜‘ì—… ê¸°ëŠ¥

#### í™•ì¥ì„± ê°œì„ 
- ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜
- í´ë¼ìš°ë“œ ë„¤ì´í‹°ë¸Œ ì„¤ê³„
- ê¸€ë¡œë²Œ CDN ì „ëµ

## ğŸ“š ì°¸ê³  ìë£Œ

### ì•„í‚¤í…ì²˜ íŒ¨í„´
- [Clean Architecture](https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html)
- [Domain-Driven Design](https://martinfowler.com/bliki/DomainDrivenDesign.html)
- [Event Sourcing](https://martinfowler.com/eaaDev/EventSourcing.html)

### React ì•„í‚¤í…ì²˜
- [React Architecture Patterns](https://react.dev/learn)
- [State Management Patterns](https://react.dev/learn/managing-state)
- [Performance Optimization](https://react.dev/learn/render-and-commit)

### 3D ì›¹ ì•„í‚¤í…ì²˜
- [Three.js Best Practices](https://threejs.org/manual/)
- [WebGL Performance](https://webglfundamentals.org/webgl/lessons/webgl-performance.html)
- [3D Web Standards](https://www.khronos.org/webgl/)

---

**ë¬¸ì„œ ë²„ì „**: 2.1.0  
**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2024ë…„ 12ì›”  
**ì‘ì„±ì**: ì•„í‚¤í…ì²˜ íŒ€  
**ê²€í† ì**: ê¸°ìˆ  ë¦¬ë“œ
